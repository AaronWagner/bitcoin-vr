// IN PROGRESS

import React from 'react';
import {
  Box,
  Animated,
  View,
  Model,
  asset
} from 'react-vr';

import balloon from '../../../static_assets/Air_Balloon.obj';


const AnimatedModel = Animated.createAnimatedComponent(balloon);

class MovingCube extends React.Component {
  
  constructor (props) {
    super (props);
    this.state = {
      y: new Animated.Value(0)
    }
    this.animate = this.animate.bind(this);
  }

  componentDidMount () {
    this.animate();
  }

  animate () {
    Animated.sequence([
      Animated.timing(
        this.state.y,
        {
          toValue: 10,
          duration: 300
        }
      ),
      Animated.timing(
        this.state.y,
        {
          toValue: 0,
          duration: 300,
        }
      )
    ]).start();
  }

  render() {
    const { width, height, depth, x, y, z } = this.props.cube;
    return (
        <AnimatedModel
        scale={1}
        source={{
          obj:asset('../../../static_assets/Air_Balloon.obj')
        }}
          dimWidth={width}
          dimDepth={depth}
          dimHeight={height}
          style={{
						color: 'white',
            transform: [
            {translate: [x, this.state.y, z]
        }]
					}}
        />)
  }
}

export { MovingCube };